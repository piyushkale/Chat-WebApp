<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link href="./src/output.css" rel="stylesheet" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Outfit:wght@300&display=swap"
      rel="stylesheet"
    />
    <title>WebChat</title>
  </head>
  <body
    class="hidden font-[Outfit] selection:bg-orange-500 selection:text-black"
  >
    <section class="bg-gray-800 text-white h-screen flex flex-col">
      <!-- Header -->
      <div
        class="bg-linear-to-r from-slate-700/70 via-slate-500/50 to-slate-600/70 border-b border-gray-500 text-gray-100 text-3xl font-semibold p-4 shrink-0"
      >
        <h2 class="text-3xl">WebChat App</h2>
      </div>

      <!-- Chat Container -->
      <div class="flex flex-col flex-1 min-h-0">
        <!-- Messages -->
        <div class="flex-1 flex min-h-0 overflow-y-auto">
          <section
            class="w-[15%] overflow-y-auto flex flex-col [&_h2]:bg-gray-900 [&_h2]:p-2 [&_h2]:py-3 [&_h2]:border-y [&_h2]:border-gray-500/50 [&_h2]:w-full [&_h2]:cursor-pointer [&_h2]:hover:bg-gray-700"
            id="users-section"
          >
            <form onsubmit="handleJoinRoom(event)" class="p-1">
              <input
                class="w-full bg-gray-100/90 text-black"
                type="email"
                name="email"
                placeholder="Join room" required
              /><br /><button type="submit" class="bg-blue-600/90 px-2 rounded-sm mt-2 cursor-pointer hover:scale-95">Join</button>
            </form>
           <h2 id="public-chat-h2" onclick="loadAllMessages()">Public Chat</h2>
          </section>
          <ul
            id="chatBox"
            class="flex-1 flex flex-col min-h-0 overflow-y-auto py-10 space-y-2 bg-slate-900/70 px-10 md:text-xl gap-11"
          >
            <!-- Many messages -->
          </ul>
        </div>

        <!-- Input -->
        <div class="shrink-0 bg-slate-900/70 p-6 border-t border-white/10">
          <form class="flex gap-4" onsubmit="formSendMessage(event)">
            <input
              type="text"
              name="chat"
              placeholder="Type a message..."
              required
              class="flex-1 py-2 px-3 text-lg text-white rounded-md bg-gray-500/40 outline-none focus:ring-2 focus:ring-emerald-400"
            />
            <button
              type="submit"
              class="px-6 bg-linear-to-r from-emerald-400 to-green-700 rounded-md font-bold hover:to-emerald-500 transition-all duration-300 cursor-pointer"
            >
              Send
            </button>
          </form>
        </div>
      </div>
    </section>
    <script src="/socket.io/socket.io.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script src="home.js"></script>
  </body>
</html>
